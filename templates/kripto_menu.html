<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="refresh" content="30">
    <title>Kripto Canlı İzleme</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f0f2f5; margin: 0; padding: 20px; }
        .container { max-width: 1200px; margin: auto; }

        /* PC İÇİN TABLO TASARIMI */
        .desktop-table {
            width: 100%; background: white; border-radius: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.06);
            border-collapse: collapse; overflow: hidden;
            display: table; /* Masaüstünde tablo olarak göster */
        }
        .desktop-table th, .desktop-table td { padding: 18px; text-align: left; border-bottom: 1px solid #edf2f7; }
        .desktop-table th { background: #1a237e; color: white; font-size: 13px; text-transform: uppercase; }

        /* MOBİL İÇİN KART TASARIMI (Başlangıçta gizli) */
        .mobile-grid { display: none; grid-template-columns: 1fr; gap: 15px; }
        .coin-card {
            background: white; padding: 20px; border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05); border-left: 5px solid #f7931a;
            display: flex; justify-content: space-between; align-items: center;
        }

        .up { color: #2e7d32; font-weight: bold; }
        .down { color: #c62828; font-weight: bold; }
        .price { font-weight: 800; color: #1a237e; }

        /* MEDYA SORGULARI: EKRAN DARALINCA TABLOYU GİZLE KARTLARI GÖSTER */
        @media (max-width: 768px) {
            .desktop-table { display: none; }
            .mobile-grid { display: grid; }
        }
    </style>
</head>
<body>

<div class="container">
    <div style="text-align:center; margin-bottom:30px;">
        <h1 style="color:#1a237e;">₿ Kripto Canlı İzleme</h1>
        <p style="color:#718096;"><i class="fas fa-sync-alt fa-spin"></i> 30 saniyede bir otomatik güncellenir</p>
    </div>

    <table class="desktop-table">
        <thead>
            <tr>
                <th>Coin / Parite</th>
                <th>Anlık Fiyat</th>
                <th>Günlük Değişim</th>
                <th>İşlem</th>
            </tr>
        </thead>
        <tbody>
            {% for item in veriler %}
            <tr>
                <td style="font-weight:700;">{{ item.name }} <span style="color:#94a3b8; font-size:12px;">/ USD</span></td>
                <td class="price">${{ item.price }}</td>
                <td class="{% if item.degisim >= 0 %}up{% else %}down{% endif %}">
                    {% if item.degisim >= 0 %}+{% endif %}{{ item.degisim }}%
                </td>
                <td><a href="/" style="text-decoration:none; color:#3949ab; font-size:12px;">İncele</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <div class="mobile-grid">
        {% for item in veriler %}
        <div class="coin-card">
            <div>
                <div style="font-size:12px; color:#718096; font-weight:800;">{{ item.name }}</div>
                <div class="price">${{ item.price }}</div>
            </div>
            <div class="{% if item.degisim >= 0 %}up{% else %}down{% endif %}" style="font-size:18px;">
                {% if item.degisim >= 0 %}+{% endif %}{{ item.degisim }}%
            </div>
        </div>
        {% endfor %}
    </div>

    <div style="text-align:center; margin-top:30px;">
        <a href="/" style="color:#1a237e; font-weight:bold; text-decoration:none; border:2px solid #1a237e; padding:10px 20px; border-radius:10px;">
            <i class="fas fa-home"></i> Ana Menüye Dön
        </a>
    </div>
</div>

</body>
</html>